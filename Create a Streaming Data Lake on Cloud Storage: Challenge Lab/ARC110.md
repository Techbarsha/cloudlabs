# Create a Streaming Data Lake on Cloud Storage: Challenge Lab || ARC110 ||
# Follow the instructions:
### If you consider that the video helped you to complete your lab, so please do like and subscribe [Edutech Barsha](https://www.youtube.com/@edutechbarsha)
## Solution [here](https://youtu.be/T5vr5fS1awg)

### Run the following Commands in CloudShell
- *COMMAND1*
```
export BUCKET_NAME=
export TOPIC_ID=
export PROJECT_ID=
```
- *COMMAND2*
```
gcloud config set compute/region "REGION"

gcloud services disable dataflow.googleapis.com

gcloud services enable dataflow.googleapis.com

PROJECT_ID=$(gcloud config get-value project)
REGION=us-central1
AE_REGION=us-central


gsutil mb gs://$BUCKET_NAME

gcloud pubsub topics create $TOPIC_ID

gcloud app create --region=$AE_REGION
```
- *COMMAND3*
```
gcloud scheduler jobs create pubsub publisher-job --schedule="* * * * *" \
    --topic=$TOPIC_ID --message-body=
```
- *COMMAND4*
```
gcloud scheduler jobs run publisher-job

git clone https://github.com/GoogleCloudPlatform/java-docs-samples.git
cd java-docs-samples/pubsub/streaming-analytics


mvn compile exec:java \
-Dexec.mainClass=com.examples.pubsub.streaming.PubSubToGcs \
-Dexec.cleanupDaemonThreads=false \
-Dexec.args=" \
    --project=$PROJECT_ID \
    --region=$REGION \
    --inputTopic=projects/$PROJECT_ID/topics/$TOPIC_ID \
    --output=gs://$BUCKET_NAME/samples/output \
    --runner=DataflowRunner \
    --windowSize=2"
```

### Congratulations ðŸŽ‰ for completing the Lab !ðŸ˜„

##### *You Have Successfully Demonstrated Your Skills And Determination.*

#### *WellÂ done!*

# Thanks For Watching:)
